[TOC]



##### Executor

```java
public interface Executor {
    // 在未来某个时刻执行给定的任务
    void execute(Runnable command);
}
```

##### ExecutorService 

```java
public interface ExecutorService extends Executor {
    // 关闭线程池，调用此方法后，线程池不再接收新的任务，但会把当前缓存队列的任务全部执行完毕
    void shutdown();
    // 调用此方法后，不再接收新的任务，尝试中断正在执行的任务，同时不再执行缓存队列中的任务
    List<Runnable> shutdownNow();
    // 线程已经关闭，返回true
    boolean isShutdown();
    // 线程已经关闭，且所有任务都被执行完成，返回true
    boolean isTerminated();
    // 阻塞直到以下任何一种情况发生：调用shutdown后所有任务执行完成、超时或当前线程被中断
    boolean awaitTermination(long timeout, TimeUnit unit) throws InterruptedException;
    // 任务执行完成后，返回结果
    <T> Future<T> submit(Callable<T> task);
    // 任务执行完成后，返回给定的结果
    <T> Future<T> submit(Runnable task, T result);
    // 任务执行完成后，没有返回值
    Future<?> submit(Runnable task);
    // 提交一批任务，返回一批任务的结果列表
    <T> List<Future<T>> invokeAll(Collection<? extends Callable<T>> tasks)
        throws InterruptedException;
}
```

##### AbstractExecutorService

```java
public abstract class AbstractExecutorService implements ExecutorService {
}
```

##### ThreadPoolExecutor

###### 类的属性

```java
public class ThreadPoolExecutor extends AbstractExecutorService {
    //
    private final AtomicInteger ctl = new AtomicInteger(ctlOf(RUNNING, 0));
    // 29位的偏移量
    private static final int COUNT_BITS = Integer.SIZE - 3;
    // 最大容量（2^29 - 1）
    private static final int CAPACITY   = (1 << COUNT_BITS) - 1;
}
```

